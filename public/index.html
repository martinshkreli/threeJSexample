<html>
  <canvas id="c"></canvas>
<script type="importmap">
{
  "imports": {
    "three": "./three.module.js"
  }
}
</script>

<script type="module">
    import * as THREE from 'three';
    function main() {
        const canvas = document.querySelector('#c');
        canvas.width = 1800;
        canvas.height = 900;
        const renderer = new THREE.WebGLRenderer({canvas});
        const fov = 75; // degrees
        const aspect = 2;  // the canvas default
        const near = 0.1;
        const far = 5;
        const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
        camera.position.z = 3.5;
        camera.position.x = 0;
        const scene = new THREE.Scene();
        const boxWidth = 1;
        const boxHeight = 1;
        const boxDepth = 1;
        const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);
        const material = new THREE.MeshPhongMaterial({color: 0x44aa88});
        const boxWidthtwo = 1.5;
        const boxHeighttwo = 1;
        const boxDepthtwo = 1.5;
        const geometrytwo = new THREE.BoxGeometry(boxWidthtwo, boxHeighttwo, boxDepthtwo);
        const materialtwo = new THREE.MeshPhongMaterial({color: 0x44ff88});
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
        const monster = new THREE.Mesh(geometrytwo, materialtwo);
        monster.position.x = 1.5;
        monster.position.y = 1.5;
        scene.add(monster);
        console.log('in module');
        const color = 0xFFFFFF;
        const intensity = 2;
        const light = new THREE.DirectionalLight(color, intensity);
        light.position.set(-1, 2, 4);
        scene.add(light);

        addEventListener('keydown', (event) => {});
        document.querySelector("#c").addEventListener("mousemove", function(event) {
      myFunction(event);
    });

    function myFunction(e) {
      console.log('y is: ', e.screenY);
      if (e.screenX < 1200) {
        //console.log('setting cubex to: ', (0 - ((1200 * 0.005) - e.screenX * 0.005)))
        cube.position.x = (0 - ((1200 * 0.005) - e.screenX * 0.005))
      }
      else {
        //console.log('setting cubex to: ', (-6 + e.screenX * 0.005))
        cube.position.x = (-6 + e.screenX * 0.005)
      }
      if (e.screenY < 800) {
        console.log(cube.position.y);
        console.log('setting position: ', (0 + e.screenY * 0.005));
        cube.position.y = (6 + e.screenY * 0.005)
      }
      else {
        console.log(cube.position.y);
        console.log('setting position: ', (-6 + e.screenY * 0.005));
        cube.position.y = (-6 + e.screenY * 0.005)
      }
    };

          onkeydown = (event) => {
            console.log(event);
            console.log(event.key);
            if (event.key == "a") {
              cube.position.x-=0.1;
            }
            if (event.key == "w") {
              cube.position.y+=0.1;
            }
            if (event.key == "s") {
              cube.position.y-=0.1;
            }
            if (event.key == "d") {
              cube.position.x+=0.1;
            }
            if (event.key == "z") {
              cube.scale.x+=0.1;
            }
            if (event.key == "x") {
              cube.scale.x-=0.1;
            }
          }

        renderer.render(scene, camera);
        function render(time) {
          time *= 0.001;  // convert time to seconds
          cube.rotation.x = time;
          cube.rotation.y = time * 0.5; 
          
          monster.rotation.x = time * 2;
          monster.rotation.y = time * 2; 

          renderer.render(scene, camera);
          requestAnimationFrame(render);
        }
        requestAnimationFrame(render);
      }
    
      main();

</script>

<body>

</body>
</html>